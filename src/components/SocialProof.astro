---
/**
 * Social Proof Notification Component
 * Displays fake user activity ("Someone requested survey")
 */
---

<div
    id="social-proof-container"
    class="fixed bottom-8 left-8 z-[45] pointer-events-none"
>
    <!-- Notification Card (Hidden by default) -->
    <div
        id="notification-card"
        class="bg-white rounded-xl shadow-2xl p-4 flex items-center gap-4 transform translate-y-20 opacity-0 transition-all duration-500 border border-slate-100 max-w-sm"
    >
        <div class="relative shrink-0">
            <div
                class="w-12 h-12 bg-blue-50 text-[#072181] rounded-full flex items-center justify-center"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    ><path
                        d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
                    ></path></svg
                >
            </div>
            <span
                class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"
            ></span>
        </div>
        <div>
            <div
                class="text-xs text-slate-500 font-medium mb-0.5"
                id="notification-time"
            >
                Baru saja
            </div>
            <div
                class="text-sm font-bold text-slate-900 leading-tight"
                id="notification-text"
            >
                Budi dari Jakarta meminta survei
            </div>
            <div class="text-xs text-blue-600 mt-1 font-medium">
                Pireki Asia Verified
            </div>
        </div>
    </div>
</div>

<script>
    // Data for random generation
    const names = [
        "Budi",
        "Siti",
        "Agus",
        "Dewi",
        "Rudi",
        "Nina",
        "Eko",
        "Putri",
        "Hendra",
        "Mega",
        "Tono",
        "Rina",
        "Pak Joko",
        "Bu Sri",
    ];
    const cities = [
        "Jakarta",
        "Surabaya",
        "Bandung",
        "Medan",
        "Semarang",
        "Makassar",
        "Bali",
        "Yogyakarta",
        "Malang",
        "Bekasi",
    ];
    const actions = [
        "meminta penawaran harga",
        "menjadwalkan survei lokasi",
        "mengkonsultasikan proyek",
        "memesan partisi SOREPA",
        "tertarik dengan SAMOWA",
        "menghubungi sales kami",
        "melihat katalog produk",
    ];

    const card = document.getElementById("notification-card");
    const textEl = document.getElementById("notification-text");

    function showNotification() {
        if (!card || !textEl) return;

        // Generate random content
        const name = names[Math.floor(Math.random() * names.length)];
        const city = cities[Math.floor(Math.random() * cities.length)];
        const action = actions[Math.floor(Math.random() * actions.length)];

        textEl.textContent = `${name} dari ${city} sedang ${action}`;

        // Show
        card.classList.remove("translate-y-20", "opacity-0");

        // Hide after 5 seconds
        setTimeout(() => {
            card.classList.add("translate-y-20", "opacity-0");
        }, 5000);
    }

    // Initial delay
    setTimeout(() => {
        showNotification();
        // Repeat every 10-15 seconds
        setInterval(showNotification, 12000);
    }, 3000);
</script>
